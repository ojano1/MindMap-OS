/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
If you want to view the source, see the repository of this plugin.
*/
"use strict";var B=Object.defineProperty;var jt=Object.getOwnPropertyDescriptor;var It=Object.getOwnPropertyNames;var _t=Object.prototype.hasOwnProperty;var Rt=(t,e)=>{for(var n in e)B(t,n,{get:e[n],enumerable:!0})},Ht=(t,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of It(e))!_t.call(t,i)&&i!==n&&B(t,i,{get:()=>e[i],enumerable:!(a=jt(e,i))||a.enumerable});return t};var Wt=t=>Ht(B({},"__esModule",{value:!0}),t);var ln={};Rt(ln,{default:()=>W});module.exports=Wt(ln);var S=require("obsidian");var nt=require("obsidian");var C=require("obsidian");function Bt(t,e,n){let a=t.metadataCache.getFileCache(e);if(!a?.headings)return null;let i=u=>u.trim().toLowerCase(),o=i(n),s=a.headings.sort((u,d)=>u.position.start.line-d.position.start.line),l=s.findIndex(u=>i(u.heading)===o);if(l===-1)return null;let r=s[l].position.end.line+1,c=l<s.length-1?s[l+1].position.start.line-1:Number.MAX_SAFE_INTEGER;return{startLine:r,endLine:c}}async function et(t,e,n,a){let i=Bt(t,e,n);if(!i)return!1;let s=(await t.vault.read(e)).split(`
`),l=Math.min(i.startLine,s.length-1),r=Math.min(i.endLine,s.length-1),c=/^\s*-\s*\[([ xX])\]\s*(.*)$/;for(let u=l;u<=r;u++){let d=s[u].match(c);if(!d)continue;let g=`- [${d[1]==="x"||d[1]==="X"?"x":" "}] ${a}`;return s[u]!==g&&(s[u]=g,await t.vault.modify(e,s.join(`
`))),!0}return!1}function A(t=new Date){let e=t.getTimezoneOffset();return new Date(t.getTime()-e*6e4).toISOString().slice(0,10)}function Nt(t=new Date){return t.toLocaleDateString(void 0,{weekday:"long"})}function Kt(t=new Date){return t.toLocaleDateString(void 0,{month:"short"})}function Gt(t=new Date){return t.getFullYear()}function zt(t=new Date){return Math.floor(t.getMonth()/3)+1}function qt(t=new Date){let e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));let n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((+e-+n)/864e5+1)/7)}function N(t,e,n=new Date){let a=A(n),i=t;return i=i.replace(/{{\s*title\s*}}/gi,e),i=i.replace(/{{\s*date(?:\s*:\s*([^}]+))?\s*}}/gi,o=>a),i=i.replace(/{{\s*dateLong\s*}}/gi,n.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})),i=i.replace(/{{\s*weekday\s*}}/gi,Nt(n)),i=i.replace(/{{\s*monthShort\s*}}/gi,Kt(n)),i=i.replace(/{{\s*year\s*}}/gi,String(Gt(n))),i=i.replace(/{{\s*isoWeek\s*}}/gi,String(qt(n))),i=i.replace(/{{\s*quarter\s*}}/gi,String(zt(n))),i}function Ut(t,e){let n=(0,C.normalizePath)(e);return t.vault.getAbstractFileByPath(n)??null}async function Y(t,e){let n=(0,C.normalizePath)(e).split("/"),a="";for(let i of n)a=a?`${a}/${i}`:i,t.vault.getAbstractFileByPath(a)||await t.vault.createFolder(a)}async function x(t,e,n){let a=(0,C.normalizePath)(e);if(!Ut(t,a)){let o=a.split("/").slice(0,-1).join("/");o&&await Y(t,o),await t.vault.create(a,n)}}var O=require("obsidian");var k="03 SaveBox/Templates",K={area:`${k}/Area Template.md`,wish:`${k}/Wish Template.md`,goal:`${k}/Goal Template.md`,project:`${k}/Project Template.md`,task:`${k}/Task Template.md`,habit:`${k}/Habit Template.md`,note:`${k}/Note Template.md`,daily:`${k}/Daily Template.md`,weekly:`${k}/Weekly Template.md`,monthly:`${k}/Monthly Template.md`,quarterly:`${k}/Quarterly Template.md`,yearly:`${k}/Yearly Template.md`},G={area:`---
created: {{date}}
status: Active
priority: Medium
tags: []
---
# {{title}}

This page defines one part of your life that matters.
Break it into **Wishes** you\u2019d love to reach.

## Step 1 \u2013 List Your Wishes
*Use links (prefix: \`wish \`).*
- [[wish \u2013 ]]
- 
`,wish:`---
created: {{date}}
status: Active
priority: Medium
tags: []
---
# {{title}}

Break this Wish into **Goals** you control.

## Step 1 \u2013 List Your Goals
**Action + measurable outcome + timeframe**

**Examples:**
- Launch 10 products in 4 months
- Build 1,000-subscriber email list in 3 months

### \u270D\uFE0F My Goals
- [[goal \u2013 ]]
- 
`,goal:`---
created: {{date}}
status: Active
done: false
priority: Medium
tags: []
---
### My Goal
- [ ] {{title}}

Break this Goal into **Projects** (milestones).

## Step 1 \u2013 List Your Projects
**Deliverable + scope + time frame**

**Examples:**
- Build Product MVP in 4 weeks
- Create Email Launch Sequence in 6 weeks

### \u270D\uFE0F My Projects
- [[project \u2013 ]]
- 
`,project:`---
created: {{date}}
status: Active
done: false
priority: Medium
tags: []
---
### My Project
- [ ] {{title}}

Break it into **Tasks** and **Habits**.

## Tasks (\u22641h)
- [[task \u2013 ]]
- 

## Habits (repeatable)
- [[habit \u2013 ]]
- 
`,task:`---
created: 2025-10-16
_task_sync_state: false
done: false
status: Active
impact: Medium
slot: Morning
duration_hours:
tags: []
due:
---

### My Task
- [ ] {{title}}
A one-time action you can finish in about an hour.
---
### Properties to fill
- **Impact**: Select one in Properties. Options: Hi, Med, Lo.
- **duration_hours**: Set a number. Example: 0.5 or 1.
---
### Keep in mind
- Split big tasks to keep them small enough for one sitting (target 1hr max).
This way it would more friendly to your daily time budget.
---
[[Link to the daily page]]
---
<p align="center">MindMap OS \xA9 All rights reserved</p>
`,habit:`---
created: {{date}}
status: Active
done: false
priority: Medium
tags: []
---
# {{title}}

Describe the habit and frequency (e.g., daily, Mon Thu, monthly on the 1st).
`,note:`---
created: {{date}}
status: Active
tags: []
---
# {{title}}
Write freely. Link with [[...]].
`,daily:`# {{dateLong}}

## \u270D\uFE0F Inbox
- 

## Highlights
- 

## Next actions
- 
`,weekly:`# \u{1F4C5} Week {{isoWeek}} {{year}}
> Review goals and plan the week.
`,monthly:`# \u{1F4C5} {{monthShort}} {{year}}
> Review progress. Pick key projects and habits.
`,quarterly:`# \u{1F4C5} Q{{quarter}} {{year}}
> Choose focus goals. Align projects.
`,yearly:`# \u{1F4C5} Year {{year}}
> Define areas and high-level goals.
`};async function j(t,e,n,a=new Date){let i=(0,O.normalizePath)(K[e]),o=t.vault.getAbstractFileByPath(i);if(o instanceof O.TFile){console.log(`[MMOS] Using VAULT template for ${e}: ${i}`);let s=await t.vault.read(o);return N(s,n,a)}return console.log(`[MMOS] Using FALLBACK template for ${e}`),N(G[e],n,a)}async function at(t,e){let{kind:n,title:a}=e,i=e.path??Xt(n,a),o=i.substring(0,i.lastIndexOf("/"));o&&await Y(t,o);let s=await j(t,n,a,new Date),l=await t.vault.create(i,s);return await t.fileManager.processFrontMatter(l,r=>{r.created??(r.created=A(new Date)),n==="task"?(r.status??(r.status="Active"),r.impact??(r.impact="Med"),r.slot??(r.slot="Morning"),r.done??(r.done=!1),r.priority??(r.priority="Medium")):n==="goal"||n==="project"||n==="habit"?(r.status??(r.status="Active"),r.done??(r.done=!1),r.priority??(r.priority="Medium")):(n==="area"||n==="note")&&(r.status??(r.status="Active"))}),l}async function it(t){let e=["01 Definition","02 Execution/1 Daily","02 Execution/2 Weekly","02 Execution/3 Monthly","02 Execution/4 Quarterly","02 Execution/5 Yearly","03 SaveBox/Active","03 SaveBox/Archive","03 SaveBox/Attachment","03 SaveBox/Scripts","03 SaveBox/Templates","04 Output","99 System"];for(let n of e)await Y(t,n);await x(t,"Welcome.md",`# \u{1F44B} Welcome to MindMap OS

Use **MindMap OS \u2192 Create Starter Structure** any time.
`),await x(t,"01 Definition/\u{1F3C1} Start Here.md",`# \u{1F3C1} MindMap OS \u2013 Start Here

### Top-Down
Areas \u2192 Goals \u2192 Projects \u2192 Tasks. Best way to start.

### Bottom-Up
Capture anything anywhere. It lands in your **Daily inbox** for linking later.

### First step
Example: [[area Health]]
- 
- 
`),await x(t,"01 Definition/\u{1F9E0} Mind Map.md",`# \u{1F9E0} Mind Map
Link Areas, Goals, Projects here.
`),await x(t,"02 Execution/\u{1F50D} Read Me First.md",`# Execution Flow
Year \u2192 Quarter \u2192 Month \u2192 Week \u2192 Day.
`),await x(t,"04 Output/Untitled.md",`# Output
Export or publish here.
`);for(let[n,a]of Object.entries(K))await x(t,a,G[n]);await x(t,"03 SaveBox/Active/\u{1F331}Area - Life.md",`---
created: ${A(new Date)}
status: Active
---
# \u{1F331}Area - Life
`),await x(t,"03 SaveBox/Active/\u{1F3AF}Goal - Launch v1.md",`---
created: ${A(new Date)}
status: Active
done: false
---
### My Goal
- [ ] \u{1F3AF}Goal - Launch v1
`),await x(t,"03 SaveBox/Active/\u{1F680}Project - Landing Page.md",`---
created: ${A(new Date)}
status: Active
done: false
---
### My Project
- [ ] \u{1F680}Project - Landing Page
`),await x(t,"03 SaveBox/Active/\u{1F4CC}Task - Draft copy.md",`---
created: ${A(new Date)}
status: Active
impact: Med
slot: Morning
done: false
priority: Medium
duration_hours:
tags: []
---
### My Task
- [ ] \u{1F4CC}Task - Draft copy
`),await x(t,"99 System/Home.md",["# Welcome to MindMap OS","","- **MindMap OS \u2192 Create Starter Structure**","- **MindMap OS \u2192 New Goal / Project / Task**","- **MindMap OS \u2192 Open Today**",""].join(`
`)),new nt.Notice("\u2705 MindMap OS: starter structure updated.")}function Xt(t,e){let n=Vt(e);switch(t){case"daily":return`02 Execution/1 Daily/${n}.md`;case"weekly":return`02 Execution/2 Weekly/${n}.md`;case"monthly":return`02 Execution/3 Monthly/${n}.md`;case"quarterly":return`02 Execution/4 Quarterly/${n}.md`;case"yearly":return`02 Execution/5 Yearly/${n}.md`;case"note":return`03 SaveBox/Active/${n}.md`;default:return`03 SaveBox/Active/${Qt(t)}${n}.md`}}function Qt(t){switch(t){case"area":return"\u{1F331}Area - ";case"wish":return"\u2728Wish - ";case"goal":return"\u{1F3AF}Goal - ";case"project":return"\u{1F680}Project - ";case"task":return"\u{1F4CC}Task - ";case"habit":return"\u{1F501}Habit - ";default:return""}}function Vt(t){return t.replace(/[\\/:*?"<>|]/g,"").trim()}var L=require("obsidian");var Zt=["task","project","goal","area","habit","note","daily","weekly","monthly","quarterly","yearly","wish"],Jt={area:"\u{1F331}Area - ",wish:"\u2728Wish - ",goal:"\u{1F3AF}Goal - ",project:"\u{1F680}Project - ",task:"\u{1F4CC}Task - ",habit:"\u{1F504}Habit - ",note:"",daily:"",weekly:"",monthly:"",quarterly:"",yearly:""};function te(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ee(t,e){let a=new RegExp(`^#{1,6}\\s+${te(e)}\\s*$`,"gim").exec(t);if(!a)return null;let i=a.index+a[0].length,o=(a[0].match(/^#+/)||["#"])[0].length,s=new RegExp(`^#{1,${o}}\\s+`,"gim");s.lastIndex=i;let l=s.exec(t);return{start:i,end:l?l.index:t.length}}function ne(t,e){let n=/^[ \t>]*[-*]\s+\[( |x|X)\]\s.*$/gim,a=t.slice(e.start,e.end);n.lastIndex=0;let i=n.exec(a);if(!i)return null;let o=e.start+i.index,s=o+i[0].length,l=/\[(x|X)\]/.test(i[0]);return{absStart:o,absEnd:s,line:i[0],checked:l}}async function ae(t,e){for(let n=0;n<25;n++){if(t.metadataCache.getFileCache(e)?.headings?.length)return;await new Promise(i=>setTimeout(i,40))}}async function ie(t,e,n,a){await ae(t,e);let i=await t.vault.read(e),o=ee(i,n);if(!o)return!1;let s=ne(i,o);if(!s)return!1;let r=`- [${/\[(x|X)\]/.test(s.line)?"x":" "}] ${a}`;if(s.line.trimEnd()===r)return!0;let c=i.slice(0,s.absStart)+r+i.slice(s.absEnd);return c!==i&&await t.vault.modify(e,c),!0}function re(t){return t==="task"?"My Task":t==="project"?"My Project":"My Goal"}function oe(t){return t instanceof L.TFile&&t.extension.toLowerCase()==="md"}function se(t){let e=t.match(/^(\w+)\s*(?:[-â€“]\s*|\s+)(.+)$/i);if(!e)return null;let n=e[1].toLowerCase();if(!Zt.includes(n))return null;let a=e[2].trim();return{kind:n,title:a}}function ce(t,e){let n=le(e);switch(t){case"daily":return`02 Execution/1 Daily/${n}.md`;case"weekly":return`02 Execution/2 Weekly/${n}.md`;case"monthly":return`02 Execution/3 Monthly/${n}.md`;case"quarterly":return`02 Execution/4 Quarterly/${n}.md`;case"yearly":return`02 Execution/5 Yearly/${n}.md`;case"note":return`03 SaveBox/Active/${n}.md`;default:return`03 SaveBox/Active/${Jt[t]}${n}.md`}}function le(t){return t.replace(/[\\/:*?"<>|]/g,"").trim()}async function de(t,e,n){await t.fileManager.processFrontMatter(e,a=>{a.created??(a.created=A(new Date)),n==="task"?(a.status??(a.status="Active"),a.impact??(a.impact="Medium"),a.slot??(a.slot="Morning"),a.done??(a.done=!1),a.duration_hours??(a.duration_hours=void 0),a.tags??(a.tags=[])):n==="goal"||n==="project"||n==="habit"?(a.status??(a.status="Active"),a.done??(a.done=!1)):(n==="area"||n==="note")&&(a.status??(a.status="Active"))})}function rt(t){t.vault.on("create",async e=>{try{if(!oe(e)||(await t.vault.read(e)).trim().length>0)return;let a=e.basename,i=se(a);if(!i)return;let{kind:o,title:s}=i,l=await j(t,o,s,new Date);await t.vault.modify(e,l),await de(t,e,o);let r=(0,L.normalizePath)(ce(o,s));if(r!==e.path&&await t.fileManager.renameFile(e,r),o==="task"||o==="project"||o==="goal"){let c=t.vault.getAbstractFileByPath(r),u=c instanceof L.TFile?c:e,d=re(o),m=u.basename;await ie(t,u,d,m)}console.log(`[MMOS] wikilink routed \u2192 ${o} | ${s}`)}catch(n){console.error("[MMOS] wikilink routing error",n)}}),console.log("MMOS wikilink watcher: ON")}var st=require("obsidian");function ue(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function he(t,e){let n=null;return(...a)=>{n&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,t(...a)},e)}}function ct(t,e){let a=new RegExp(`^#{1,6}\\s+${ue(e)}\\s*$`,"gim").exec(t);if(!a)return null;let i=a.index+a[0].length,o=(a[0].match(/^#+/)||["#"])[0].length,s=new RegExp(`^#{1,${o}}\\s+`,"gim");s.lastIndex=i;let l=s.exec(t);return{start:i,end:l?l.index:t.length}}var ot=/^[ \t>]*[-*]\s+\[( |x|X)\]\s.*$/gim;function lt(t,e){let n=t.slice(e.start,e.end);ot.lastIndex=0;let a=ot.exec(n);if(!a)return null;let i=e.start+a.index,o=i+a[0].length,s=/\[(x|X)\]/.test(a[0]);return{absStart:i,absEnd:o,line:a[0],checked:s}}function dt(t,e){return t.replace(/\[(?: |x|X)\]/,e?"[x]":"[ ]")}var pe=2e3;function me(t){return/(^|\/)(templates?|Templates?)(\/|$)/.test(t)}function ge(t){return t?.template===!0||t?.is_template===!0||t?.type==="template"}function ye(t){return/<%[\s\S]*?%>/.test(t)}function fe(t){let e=t?.stat?.ctime??0;return Date.now()-e<pe}function ut(t,e){let n=new Set,a=t.vault.on("modify",c=>{n.has(c.path)&&t?.notifier?.hideAll&&t.notifier.hideAll()}),i=c=>{let u=t.workspace.getActiveViewOfType(st.MarkdownView),m=!!u&&u.file?.path===c.path&&u?.getMode()!=="preview";return{editor:u?.editor,inEdit:m}},o=async(c,u)=>{n.add(c.path);try{await t.fileManager.processFrontMatter(c,d=>{for(let m of Object.keys(u))d[m]=u[m]})}finally{n.delete(c.path)}},s=async(c,u,d,m,g)=>{let{editor:p,inEdit:h}=i(c);n.add(c.path);try{if(h&&p){let y=p.offsetToPos(d),f=p.offsetToPos(m);await new Promise(requestAnimationFrame),p.replaceRange(g,y,f)}else{let y=u.slice(0,d)+g+u.slice(m);y!==u&&await t.vault.modify(c,y)}}finally{n.delete(c.path)}},r=he(async()=>{let c=t.workspace.getActiveFile();if(!c||e?.(c)||me(c.path))return;let d=(t.metadataCache.getFileCache(c)??{}).frontmatter??{};if(ge(d))return;let{editor:m,inEdit:g}=i(c),p=g&&m?m.getValue():await t.vault.read(c);if(!p||ye(p)||!/^#{1,6}\s+My\s+(Task|Project|Goal)\s*$/im.test(p)||fe(c)||n.has(c.path))return;let y=[{heading:"My Task",flag:"_task_sync_state"},{heading:"My Project",flag:"_project_sync_state"},{heading:"My Goal",flag:"_goal_sync_state"}];for(let f of y){let w=ct(p,f.heading);if(!w)continue;let M=lt(p,w);if(!M)continue;let b=typeof d.done=="boolean"?d.done:null,P=typeof d[f.flag]=="boolean"?d[f.flag]:null,E=M.checked;if(P===null){await o(c,{done:!!E,[f.flag]:!!E});return}let Yt=b!==null&&b!==P;if(E!==P){await o(c,{done:!!E,[f.flag]:!!E});return}if(Yt){let Ot=dt(M.line,!!b);await s(c,p,M.absStart,M.absEnd,Ot),await o(c,{[f.flag]:!!b});return}return}},150);t.workspace.on("file-open",()=>r()),t.workspace.on("active-leaf-change",()=>r()),t.workspace.on("layout-change",()=>r()),t.workspace.on("editor-change",()=>r()),t.metadataCache.on("changed",()=>r()),t.metadataCache.on("resolved",()=>r()),t.vault.on("modify",()=>r()),t.vault.on("rename",()=>r()),t.vault.on("create",()=>r())}async function ht(t,e){let a=(t.metadataCache.getFileCache(e)??{}).frontmatter??{},i=!(typeof a.done=="boolean"&&a.done);await t.fileManager.processFrontMatter(e,l=>{l.done=i});let o=await t.vault.read(e),s=["My Task","My Project","My Goal"];for(let l of s){let r=ct(o,l);if(!r)continue;let c=lt(o,r);if(!c)continue;let u=dt(c.line,i),d=o.slice(0,c.absStart)+u+o.slice(c.absEnd);d!==o&&await t.vault.modify(e,d);break}}var mt=require("obsidian");function we(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function be(t,e){let n=null;return(...a)=>{n&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,t(...a)},e)}}function xe(t){return/(^|\/)(templates?|Templates?)(\/|$)/.test(t)}function ke(t){return/<%[\s\S]*?%>/.test(t)}function Te(t,e=1500){let n=t?.stat?.ctime??0;return Date.now()-n<e}function Me(t,e,n,a){return/(^|\/)(_?templates?|Templates)(\/|$)/.test(t)||/^habit template(\.md)?$/i.test(e)?!1:!!(/^(?:\p{Emoji_Presentation}|\p{Extended_Pictographic})?\s*Habit\s*-\s*/iu.test(e)||a&&/(^|\n)\s*type\s*:\s*habit\s*($|\n)/i.test(n))}function ve(t,e){let n=e.map(we).join("|"),i=new RegExp(`^#{1,6}\\s+(?:.*?\\s)?(?:${n})\\s*$`,"gim").exec(t);if(!i)return null;let o=i.index+i[0].length,s=(i[0].match(/^#+/)||["#"])[0].length,l=new RegExp(`^#{1,${s}}\\s+`,"gim");l.lastIndex=o;let r=l.exec(t);return{start:o,end:r?r.index:t.length}}var pt=/^[ \t>]*[-*]\s+\[( |x|X)\]\s.*$/gmi;function Ae(t,e){let n=t.slice(e.start,e.end);pt.lastIndex=0;let a=pt.exec(n);if(!a)return null;let i=e.start+a.index,o=i+a[0].length,s=/\[(x|X)\]/.test(a[0]);return{absStart:i,absEnd:o,line:a[0],checked:s}}function Se(t,e){return t.replace(/\[(?: |x|X)\]/,e?"[x]":"[ ]")}function gt(t,e){let n=new Set,a=r=>{let c=t.workspace.getActiveViewOfType(mt.MarkdownView),d=!!c&&c.file?.path===r.path&&c?.getMode()!=="preview";return{editor:c?.editor,inEdit:d}},i=async(r,c)=>{n.add(r.path);try{await t.fileManager.processFrontMatter(r,u=>{for(let d of Object.keys(c))u[d]=c[d]})}finally{n.delete(r.path)}},o=async(r,c,u,d,m)=>{let{editor:g,inEdit:p}=a(r);n.add(r.path);try{if(p&&g){let h=g.offsetToPos(u),y=g.offsetToPos(d);await new Promise(requestAnimationFrame),g.replaceRange(m,h,y)}else{let h=c.slice(0,u)+m+c.slice(d);h!==c&&await t.vault.modify(r,h)}}finally{n.delete(r.path)}},l=be(async()=>{let r=t.workspace.getActiveFile();if(!r||e?.(r)||xe(r.path)||Te(r)||n.has(r.path))return;let u=(t.metadataCache.getFileCache(r)??{}).frontmatter??{},{editor:d,inEdit:m}=a(r),g=m&&d?d.getValue():await t.vault.read(r);if(!g||ke(g)||!Me(r.path,r.basename,g,u))return;let p=ve(g,["\u270D\uFE0F Log","Log"]);if(!p)return;let h=Ae(g,p),y=typeof u.done=="boolean"?u.done:null,f=typeof u._habit_sync_state=="boolean"?u._habit_sync_state:null;if(!h&&y===null)return;if(f===null){h?await i(r,{done:!!h.checked,_habit_sync_state:!!h.checked}):y!==null&&await i(r,{_habit_sync_state:!!y});return}let w=h?h.checked:null,M=y!==null&&y!==f;if(w!==null&&w!==f){await i(r,{done:!!w,_habit_sync_state:!!w});return}if(M&&h){let P=Se(h.line,!!y);await o(r,g,h.absStart,h.absEnd,P),await i(r,{_habit_sync_state:!!y});return}},150);t.workspace.on("file-open",()=>l()),t.workspace.on("active-leaf-change",()=>l()),t.workspace.on("layout-change",()=>l()),t.workspace.on("editor-change",()=>l()),t.metadataCache.on("changed",()=>l()),t.metadataCache.on("resolved",()=>l()),t.vault.on("modify",()=>l()),t.vault.on("rename",()=>l()),t.vault.on("create",()=>l())}var v=require("obsidian");var wt={area:"\u{1F331}Area - ",wish:"\u2728Wish - ",goal:"\u{1F3AF}Goal - ",project:"\u{1F680}Project - ",task:"\u{1F4CC}Task - ",habit:"\u{1F504}Habit - "},Fe="03 SaveBox/Templates";function z(t){return t.replace(/[\\/:*?"<>|]/g,"").trim()}function bt(t){return t.trim().split(/\s+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function I(t){return String(t).padStart(2,"0")}function De(t){let e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));let n=new Date(Date.UTC(e.getUTCFullYear(),0,1)),a=Math.ceil(((e.getTime()-n.getTime())/864e5+1)/7);return{isoYear:e.getUTCFullYear(),week:a}}async function xt(t,e){let n=(0,v.normalizePath)(e).split("/"),a="";for(let i of n){a=a?`${a}/${i}`:i;try{await t.vault.createFolder(a)}catch{}}}function $(t,e){let n=t.vault.getAbstractFileByPath((0,v.normalizePath)(e));return n instanceof v.TFile?n:null}function $e(t,e){let n=new Date;switch(t){case"daily":return`02 Execution/1 Daily/${`${n.getFullYear()}-${I(n.getMonth()+1)}-${I(n.getDate())}.md`}`;case"weekly":{let{isoYear:a,week:i}=De(n);return`02 Execution/2 Weekly/${`${a}-W${I(i)}.md`}`}case"monthly":return`02 Execution/3 Monthly/${`${n.getFullYear()}-${I(n.getMonth()+1)}.md`}`;case"quarterly":{let a=Math.floor(n.getMonth()/3)+1;return`02 Execution/4 Quarterly/${`${n.getFullYear()}-Q${a}.md`}`}case"yearly":return`02 Execution/5 Yearly/${`${n.getFullYear()}.md`}`;case"note":return`03 SaveBox/Active/${z(e)}.md`;default:return`03 SaveBox/Active/${wt[t]}${z(e)}.md`}}async function yt(t,e){let n=`${e.charAt(0).toUpperCase()}${e.slice(1)} Template.md`,a=(0,v.normalizePath)(`${Fe}/${n}`),i=t.vault.getAbstractFileByPath(a);return i instanceof v.TFile?t.vault.read(i):""}async function Pe(t,e,n){let a=(0,v.normalizePath)(e),i=a.replace(/\/[^/]+$/,""),o=a.split("/").pop();await xt(t,i);let s=$(t,a);if(s)return s;let l=t.vault.getFiles().find(c=>c.name===o);if(l&&l.path!==a){await t.fileManager.renameFile(l,a);let c=$(t,a);if(c){if(!(await t.vault.read(c)).trim()){let d=await yt(t,n);d&&await t.vault.modify(c,d)}return c}}let r=await yt(t,n);return await t.vault.create(a,r??"")}async function ft(t,e,n){if(!["task","project","goal","area","wish","habit"].includes(n))return e;let a=wt[n],i=e.path.startsWith("03 SaveBox/Active/"),o=e.basename.startsWith(a);if(!i||o)return e;let s=e.basename.replace(/^\p{Extended_Pictographic}?\s*[A-Za-z]+\s*-\s*/u,"").trim(),l=bt(s||"Untitled"),r=(0,v.normalizePath)(`03 SaveBox/Active/${a}${z(l)}.md`);if(r===e.path)return e;let c=$(t,r);return c||(await t.fileManager.renameFile(e,r),$(t,r)??e)}function Ee(t){return t==="task"?"My Task":t==="project"?"My Project":"My Goal"}async function Ce(t,e,n){for(let o=0;o<25&&!t.metadataCache.getFileCache(e)?.headings?.length;o++)await new Promise(l=>setTimeout(l,40));let a=e.basename,i=Ee(n);await et(t,e,i,a)}async function F(t,e,n){let a=["daily","weekly","monthly","quarterly","yearly"].includes(e),i=(0,v.normalizePath)($e(e,n));if(a){let d=await Pe(t,i,e);return await t.workspace.getLeaf(!1).openFile(d),d}let o=["task","project","goal","area","wish","habit"].includes(e)?bt(n):n,s=$(t,i);if(s){let d=await ft(t,s,e);return await t.workspace.getLeaf(!1).openFile(d),d}let l=await at(t,{kind:e,title:o}),r=i.replace(/\/[^/]+$/,"");await xt(t,r),l.path!==i&&await t.fileManager.renameFile(l,i);let c=$(t,i)??l;["task","project","goal"].includes(e)&&await Ce(t,c,e);let u=await ft(t,c,e);return await t.workspace.getLeaf(!1).openFile(u),u}var kt=(t,e)=>F(t,"task",e),Tt=(t,e)=>F(t,"project",e),Mt=(t,e)=>F(t,"goal",e);var D=t=>F(t,"daily",""),q=t=>F(t,"weekly",""),U=t=>F(t,"monthly",""),X=t=>F(t,"quarterly",""),Q=t=>F(t,"yearly","");var Le=window.moment,V=new Set,Ye={Monday:["monday","mon","senin","sen"],Tuesday:["tuesday","tue","tues","selasa","sel"],Wednesday:["wednesday","wed","rabu","rab"],Thursday:["thursday","thu","thur","thurs","kamis","kam"],Friday:["friday","fri","jumat","jum'at","jum"],Saturday:["saturday","sat","sabtu","sab"],Sunday:["sunday","sun","minggu","ming","ahad","ahd"]},Z={};for(let[t,e]of Object.entries(Ye))for(let n of e)Z[n.toLowerCase()]=t;var Oe=Object.keys(Z).sort((t,e)=>e.length-t.length).join("|"),je=new RegExp(`\\b(?:${Oe})\\b`,"gi");function Ie(t){let n=/^#{1,6}\s*.*\blog\b.*$/mi.exec(t);if(!n)return null;let a=n[0],i=n.index+a.length;return t[i]==="\r"&&t[i+1]===`
`?i+2:t[i]===`
`?i+1:i}function _e(t,e){let n=Ie(t);if(n===null)return t.replace(/\s*$/,"")+`

### \u270D\uFE0F Log

${e}
`;let a=t.slice(0,n),o=t.slice(n).replace(/^\r?\n{0,}/,""),s=a.endsWith(`

`)?"":a.endsWith(`
`)?`
`:`

`;return a+s+e+`
`+o}function vt(t,e){let n=t.path;if(/(^|\/)(_?templates?|Templates)(\/|$)/.test(n)||/^habit template(\.md)?$/i.test(t.basename))return!1;if(/^(?:\p{Emoji_Presentation}|\p{Extended_Pictographic})?\s*Habit\s*-\s*/iu.test(t.basename))return!0;if(e){let a=e.match(/^---\r?\n([\s\S]*?)\r?\n---/);if(a&&/(^|\n)\s*type\s*:\s*habit\s*($|\n)/i.test(a[1]))return!0}return!1}function Re(t){let e=t.match(je);return e?[...new Set(e.map(n=>Z[n.toLowerCase()]).filter(Boolean))]:[]}function He(t){let e=Re(t);if(e.length===0)return!0;let n=Le().format("dddd");return e.includes(n)}function We(t){let e=t.match(/^[\s\S]*?\bHabit\s*-\s*(.+)$/i);return e?e[1].trim():t.trim()}async function At(t,e,n){let a=window.moment().format("YYYY-MM-DD"),i=`^${a}`;if(n.includes(i))return!1;let s=`- [ ] \u{1F504}Habit - ${We(e.basename)} ${a} ${i}`,l=_e(n,s);return await t.vault.modify(e,l),!0}async function _(t,e){let n=e.path;if(!V.has(n)){V.add(n);try{if(!vt(e))return;if(!He(e.basename)){console.info("[MMOS] autolog: skip (weekly, not today)",{file:e.path});return}let a=await t.vault.read(e);if(!vt(e,a))return;await At(t,e,a)}finally{setTimeout(()=>V.delete(n),120)}}}async function St(t,e){let n=await t.vault.read(e);await At(t,e,n)}var Be=window.moment,Ne="03 SaveBox/Active",Ke=/(^| )Habit -|^ðŸ”Habit -/i,Ge={Monday:["monday","mon","senin","sen"],Tuesday:["tuesday","tue","tues","selasa","sel"],Wednesday:["wednesday","wed","rabu","rab"],Thursday:["thursday","thu","thur","thurs","kamis","kam"],Friday:["friday","fri","jumat","jum'at","jum"],Saturday:["saturday","sat","sabtu","sab"],Sunday:["sunday","sun","minggu","ming","ahad","ahd"]},J={};for(let[t,e]of Object.entries(Ge))for(let n of e)J[n.toLowerCase()]=t;var ze=Object.keys(J).sort((t,e)=>e.length-t.length).join("|"),qe=new RegExp(`\\b(?:${ze})\\b`,"gi");function Ue(t){let e=t.match(qe);return e?[...new Set(e.map(n=>J[n.toLowerCase()]).filter(Boolean))]:[]}function Xe(t){let e=Be().format("dddd"),n=Ue(t);return{ok:n.length>0&&n.includes(e),todayName:e}}async function Ft(t,e=Ne){let n=t.vault.getMarkdownFiles().filter(a=>a.path.startsWith(e+"/")).filter(a=>Ke.test(a.basename));for(let a of n){let{ok:i}=Xe(a.basename);if(i)try{await _(t,a)}catch{}}}var R=require("obsidian"),T=window.moment,Pt=t=>T(t).format("YYYY-MM-DD");function Dt(t){let e=T(t+"-01","YYYY-MM-DD").startOf("month"),n=e.clone().endOf("month");return{start:e,end:n}}function Qe(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ve(t,e){let a=new RegExp(`^#{1,6}\\s+${Qe(e)}\\s*$`,"gim").exec(t);if(!a)return null;let i=a.index+a[0].length,o=(a[0].match(/^#+/)||["#"])[0].length,s=new RegExp(`^#{1,${o}}\\s+`,"gim");s.lastIndex=i;let l=s.exec(t);return{start:i,end:l?l.index:t.length}}function Ze(t){t=String(t).trim();let e=t.match(/(\d{4}-\d{2}-\d{2})(?:\s*\^\d{4}-\d{2}-\d{2})?\s*$/);return e||(e=t.match(/due\((\d{4}-\d{2}-\d{2})\)/i),e)||(e=t.match(/due::\s*(\d{4}-\d{2}-\d{2})/i),e)||(e=t.match(/ðŸ“…\s*(\d{4}-\d{2}-\d{2})/),e)?e[1]:null}async function Je(t,e){let n=t.vault.getAbstractFileByPath(e.sourcePath);return n instanceof R.TFile?t.vault.read(n):""}function tn(t){let e=Ve(t,"\u270D\uFE0F Log")||{start:0,end:t.length},n=t.slice(e.start,e.end),a=/^[ \t>]*[-*]\s+\[( |x|X)\]\s+(.*)$/gm,i=[],o;for(;o=a.exec(n);){let s=o[1].toLowerCase()==="x",l=o[2],r=Ze(l);r&&i.push({date:r,done:s})}return i}function en(t){let e=new Map;for(let n of t)e.set(n.date,e.get(n.date)||!1||n.done);return e}function nn(t){let e={};for(let[a,i]of t){let o=T(a).format("YYYY-MM");(e[o]||(e[o]=[])).push({date:a,done:i})}return Object.keys(e).sort().slice(-3).reverse().map(a=>{let i=e[a],o=i.length?Math.round(i.filter(s=>s.done).length/i.length*100):0;return{label:T(a,"YYYY-MM").format("MMM"),pct:o}})}function an(t,e=90){let n=0,a=T();for(let i=0;i<e;i++){let o=Pt(a);if(t.get(o))n++;else break;a.subtract(1,"day")}return n}function rn(t,e,n){let a=t.createDiv({cls:"habit-monthly-summary"});a.createEl("p").innerHTML=`<strong>\u{1F525} Current streak: ${n} day${n===1?"":"s"}</strong>`;let i=a.createDiv({cls:"month-bars"});e.forEach(({label:o,pct:s},l)=>{let r=i.createDiv({cls:"month-row"});r.innerHTML=`
      <div class="month-label">${o}</div>
      <div class="bar-track">
        <div class="bar-fill ${l===0?"bar-orange":"bar-purple"}" style="width:${s}%;"></div>
      </div>
      <div class="pct-text">${s}<span class="pct-symbol">%</span></div>
    `})}function $t(t,e,n,a){let i=p=>T(p).format("YYYY-MM-DD"),o=n.clone().startOf("isoWeek"),s=a.clone().endOf("isoWeek"),l=[...e.keys()].sort(),r=null;for(let p=l.length-1;p>=0;p--){let h=l[p];if(!T(h).isAfter(a)){if(T(h).isBefore(n))break;if(e.get(h)){r=h;break}}}let c=t.createDiv({cls:"weekly-streak-wrap"}),u=c.createDiv({cls:"weekly-streak-head"});["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].forEach(p=>u.createDiv({cls:"head",text:p}));let d=c.createDiv({cls:"weekly-streak-grid"}),m=[],g=s.clone().endOf("isoWeek");for(;g.isSameOrAfter(o);){let p=g.clone().startOf("isoWeek");m.push({weekStart:p.clone(),weekEnd:g.clone()}),g.subtract(1,"week")}for(let p of m){let h=p.weekStart.clone();for(let y=0;y<7;y++){let f=i(h),w=h.isSameOrAfter(n)&&h.isSameOrBefore(a),M=w?!!e.get(f):!1,b=d.createDiv({cls:"weekly-streak-cell"});w||b.classList.add("pad"),M&&w&&(b.classList.add("hit"),f===r&&b.classList.add("latest-hit")),b.createDiv({cls:"num",text:w?h.format("D"):""}),b.createDiv({cls:"mmm",text:w?h.format("MMM"):""}),b.setAttr("title",w?`${h.format("ddd, DD MMM YYYY")} ${M?"\u2705 Done":"\u274C Missed"}`:""),h.add(1,"day")}}}function on(t,e,n){let a=t.createDiv({cls:"month-switch"});return e.forEach((i,o)=>{let s=a.createEl("button",{text:i.label,cls:"month-btn"});o===0&&s.classList.add("active"),s.addEventListener("click",()=>{a.querySelectorAll(".month-btn").forEach(l=>l.classList.remove("active")),s.classList.add("active"),n(i.key)})}),a}function sn(t){let e=document.createElement("style");e.textContent=`
.habit-monthly-summary { margin:.75rem 0 1rem; }
.month-bars { display:flex; flex-direction:column; gap:10px; max-width:560px; }
.month-row { display:flex; align-items:center; gap:12px; width:100%; }
.month-label {
  width: 4ch;
  text-align: right;
  font-weight: 600;
  font-size: .95em;
  white-space: nowrap;
}
.month-switch { display:flex; gap:8px; margin:.5rem 0 .35rem; }
.month-btn {
  font-size:.85em; padding:4px 8px; border-radius:8px; cursor:pointer;
  background: var(--background-modifier-border); border: none;
}
.month-btn.active {
  background: var(--interactive-accent);
  color: white;
}
  
.bar-track { position:relative; flex:1; height:14px; border-radius:10px; overflow:hidden;
  background: color-mix(in srgb, var(--background-modifier-border) 35%, transparent); }
.bar-fill { position:absolute; top:0; left:0; bottom:0; border-radius:10px; background: var(--interactive-accent); }
.bar-fill.bar-orange { background:#f4b56a; }
.pct-text { display:flex; align-items:baseline; gap:1px; font-weight:600; font-size:1.05em; white-space:nowrap; }
.pct-symbol { font-size:.8em; line-height:1; }
.weekly-streak-wrap { margin-top:.25rem; }
.weekly-streak-head { display:grid; grid-template-columns: repeat(7, 1fr); gap:6px; max-width:520px; margin-bottom:6px; }
.weekly-streak-head .head { text-align:center; font-size:.75em; color: var(--text-faint); }
.weekly-streak-grid { display:grid; grid-template-columns: repeat(7, 1fr); gap:6px; max-width:520px; }
.weekly-streak-cell { aspect-ratio:1/1; border-radius:10px; background: var(--background-modifier-border);
  display:flex; flex-direction:column; align-items:center; justify-content:center; padding-top:4px; }
.weekly-streak-cell .num { font-weight:700; font-size:.95em; color: var(--text-muted); line-height:1.1; }
.weekly-streak-cell .mmm { font-size:.7em; color: var(--text-faint); line-height:1.1; margin-top:2px; }
.weekly-streak-cell.hit { background: var(--interactive-accent); }
.weekly-streak-cell.hit .num, .weekly-streak-cell.hit .mmm { color:white; }
.weekly-streak-cell.latest-hit { background:#f4b56a !important; }
.weekly-streak-cell.latest-hit .num, .weekly-streak-cell.latest-hit .mmm { color:white; }
.weekly-streak-cell.pad { opacity:.35; }
`,t.appendChild(e)}async function Et(t,e,n){let a=await Je(t,n),i=tn(a);if(!i.length){let d=T(),m=d.clone().subtract(89,"days");for(;m.isSameOrBefore(d);)i.push({date:Pt(m),done:Math.random()<.75}),m.add(1,"day")}let o=en(i),s=nn(o),l=an(o);sn(e),rn(e,s,l);let c=Array.from(new Set([...o.keys()].map(d=>T(d).format("YYYY-MM")))).sort().slice(-3).reverse().map(d=>({key:d,label:T(d,"YYYY-MM").format("MMM")})),u=c[0]?.key;if(on(e,c,d=>{u=d,e.querySelectorAll(".weekly-streak-wrap").forEach(p=>p.remove());let{start:m,end:g}=Dt(d);$t(e,o,m,g)}),u){let{start:d,end:m}=Dt(u);$t(e,o,d,m)}}function cn(t,e,n){let a=(()=>{let o=null;return()=>{o&&window.clearTimeout(o),o=window.setTimeout(async()=>{o=null,e.empty(),await Et(t.app,e,n)},120)}})();class i extends R.MarkdownRenderChild{onload(){this.registerEvent(t.app.vault.on("modify",s=>{s?.path===n.sourcePath&&a()})),this.registerEvent(t.app.metadataCache.on("changed",s=>{s?.path===n.sourcePath&&a()})),this.registerEvent(t.app.metadataCache.on("resolved",()=>a())),this.registerEvent(t.app.workspace.on("editor-change",()=>a()))}}n.addChild(new i(e))}function Ct(t){let e=async(n,a,i)=>{console.log("[WishMap] habit block processor RUN",i.sourcePath),await Et(t.app,a,i),cn(t,a,i)};console.log("[WishMap] registering code blocks: wishmap-habit-monthly + legacy alias"),t.registerMarkdownCodeBlockProcessor("wishmap-habit-monthly",e),t.registerMarkdownCodeBlockProcessor("mindmapos-habit-monthly",e)}var H=require("obsidian");var tt=class extends H.SuggestModal{constructor(n){super(n.app);this.plugin=n;this.setPlaceholder("Search or open a periodic note\u2026")}getSuggestions(n){let a=[{label:"Open Today (Daily)",action:async()=>{await D(this.app)}},{label:"Open This Week (Weekly)",action:async()=>{await q(this.app)}},{label:"Open This Month (Monthly)",action:async()=>{await U(this.app)}},{label:"Open This Quarter",action:async()=>{await X(this.app)}},{label:"Open This Year",action:async()=>{await Q(this.app)}}],i=n.trim().toLowerCase();return i?a.filter(o=>o.label.toLowerCase().includes(i)):a}renderSuggestion(n,a){a.createDiv({text:n.label})}async onChooseSuggestion(n){await n.action()}};function Lt(t){t.addRibbonIcon("calendar-clock","WishMap: Periodic Notes",n=>{let a=new H.Menu;a.addItem(i=>i.setTitle("Open Today (Daily)").onClick(async()=>{await D(t.app)})),a.addItem(i=>i.setTitle("Open This Week (Weekly)").onClick(async()=>{await q(t.app)})),a.addItem(i=>i.setTitle("Open This Month (Monthly)").onClick(async()=>{await U(t.app)})),a.addItem(i=>i.setTitle("Open This Quarter").onClick(async()=>{await X(t.app)})),a.addItem(i=>i.setTitle("Open This Year").onClick(async()=>{await Q(t.app)})),a.showAtMouseEvent(n)}).setAttr("aria-label","WishMap: Periodic Notes"),t.addCommand({id:"wishmap-open-periodic-notes",name:"Open Periodic Note\u2026",callback:()=>new tt(t).open()})}var W=class extends S.Plugin{constructor(){super(...arguments);this.initializingPaths=new Set;this.data={};this._openedDailyGuard=!1}pad2(n){return String(n).padStart(2,"0")}pathForTodayDaily(){let n=new Date;return`02 Execution/1 Daily/${`${n.getFullYear()}-${this.pad2(n.getMonth()+1)}-${this.pad2(n.getDate())}.md`}`}async ensureTodayDailyOpenOnce(){if(this._openedDailyGuard)return;let n=this.todayISO();if(this.data.lastDailyISO===n){this._openedDailyGuard=!0;return}let a=this.pathForTodayDaily(),i=this.app.vault.getAbstractFileByPath(a);i instanceof S.TFile?await this.app.workspace.getLeaf(!1).openFile(i):await D(this.app),this._openedDailyGuard=!0,this.data.lastDailyISO=n,await this.saveSettings()}todayISO(){let n=new Date,a=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0");return`${a}-${i}-${o}`}async loadSettings(){this.data=await this.loadData()??{}}async saveSettings(){await this.saveData(this.data)}async maybeOpenTodayDaily(){let n=this.todayISO();this.data.lastDailyISO!==n&&(await D(this.app),this.data.lastDailyISO=n,await this.saveSettings())}isInitializing(n){return this.initializingPaths.has(n.path)}async withInitGuard(n,a){this.initializingPaths.add(n.path);try{return await a()}finally{this.initializingPaths.delete(n.path)}}async onload(){console.log("WishMap loaded"),await this.loadSettings(),rt(this.app),ut(this.app,i=>this.isInitializing(i)),gt(this.app,i=>this.isInitializing(i)),Lt(this),this.app.workspace.onLayoutReady(()=>{window.setTimeout(()=>this.ensureTodayDailyOpenOnce(),150),this.registerEvent(this.app.metadataCache.on("resolved",()=>{this._openedDailyGuard||this.ensureTodayDailyOpenOnce()}))});let n=async i=>{if(i)try{await _(this.app,i)}catch(o){console.error("[WishMap] autolog error",o)}},a=i=>{i&&(n(i),window.setTimeout(()=>n(i),150),window.setTimeout(()=>n(i),600))};this.app.workspace.onLayoutReady(()=>{let i=this.app.workspace.getActiveFile();window.setTimeout(()=>a(i),50)}),this.registerEvent(this.app.workspace.on("file-open",i=>a(i))),this.registerEvent(this.app.workspace.on("active-leaf-change",()=>a(this.app.workspace.getActiveFile()))),this.registerEvent(this.app.metadataCache.on("resolved",()=>a(this.app.workspace.getActiveFile()))),this.addCommand({id:"wishmap-habits-run-autolog-today",name:"Habits: Ensure Today\u2019s Log",callback:async()=>{await Ft(this.app,"03 SaveBox/Active"),new S.Notice("Checked today's scheduled habits.")}}),this.addCommand({id:"wishmap-create-starter-structure",name:"Create Starter Structure",callback:async()=>{await it(this.app),new S.Notice("Starter structure created.")}}),this.addCommand({id:"wishmap-open-today",name:"Open Today",callback:async()=>D(this.app)}),this.addCommand({id:"wishmap-new-task",name:"New Task\u2026",callback:async()=>kt(this.app,"New Task")}),this.addCommand({id:"wishmap-new-project",name:"New Project\u2026",callback:async()=>Tt(this.app,"New Project")}),this.addCommand({id:"wishmap-new-goal",name:"New Goal\u2026",callback:async()=>Mt(this.app,"New Goal")}),this.addCommand({id:"wishmap-toggle-done",name:"Toggle Done (YAML \u2194 checkbox)",callback:async()=>{let i=this.app.workspace.getActiveFile();i?await ht(this.app,i):new S.Notice("No active file to toggle.")}}),this.addCommand({id:"wishmap-habit-force-today",name:"Habit: Add Today\u2019s Log (force)",callback:async()=>{let i=this.app.workspace.getActiveFile();if(!i)return new S.Notice("No active file.");await St(this.app,i)}}),Ct(this),console.log("WishMap ready")}onunload(){console.log("WishMap unloaded")}};
